<%# ----- HERO FUNBET ----- %>
<div class="container-fluid">
<div class="row">
  <div class="col-12 mxwidth rounded-4 bg-light mb-5">
    <div class="cover-banner">
      <img src="https://plus.unsplash.com/premium_photo-1701187887029-907bed510db6?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="" id="cover-banner">
    </div>
  </div>
</div>
</div>

<%# ----- CONTENT > BETS ----- %>
<div class="container-fluid">
<div class="row">
  <div class="col-12 d-flex flex-row justify-content-center">

  <%# ----- BET CARD ----- %>


  <% @matches.each do |match| %>

      <div class="col-4 rounded-4 bg-white bet-card position-relative shadow-sm">
                      <%# IMAGE CARD %>
      <span class="position-relative">
        <img class="card-img-top "  alt="100%x180" style="height: 140px; width: 120%; display: inline-block;" src="https://images.unsplash.com/photo-1579546929518-9e396f3cc809?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" data-holder-rendered="true">
        <div class="bouton-paris d-flex justify-content-center text-center my-3">
      </span>
                      <%# BET BUTONS  %>
      <span class="d-flex btn-bet-group justify-content-between px-2 ">

            <%= simple_form_for @bet do |f|%>
            <div class="d-none">
              <%= f.input :match_id, input_html: { value: match.id} %>
              <%= f.input :participation_id, input_html: { value: match.outsider_participation.id} %>
                  <%#= f.association :user_reward, as: :radio_buttons %>
              <fieldset class="mb-3 radio_buttons optional bet_user_reward">
                <legend class="col-form-label pt-0">User reward</legend>
                <input type="hidden" name="bet[user_reward_id]" value="" autocomplete="off">
                <% current_user.user_rewards.each do |user_reward| %>
                  <div class="form-check">
                    <input class="form-check-input radio_buttons optional" type="radio" value="<%= user_reward.id%>" name="bet[user_reward_id]" id="bet_user_reward_id_<%= user_reward.id%>">
                    <label class="form-check-label collection_radio_buttons" for="bet_user_reward_id_<%= user_reward.id%>"><%= user_reward.reward.title%></label>
                  </div>
                <% end %>

              </fieldset>
              </div>
              <%= f.button :submit, "#{match.participations.first.team.name}",class:"btn btn-danger" %>
            <% end %>

            <%= simple_form_for @bet do |f|%>
              <div class="d-none">
              <fieldset class="mb-3 radio_buttons optional bet_user_reward">
                <legend class="col-form-label pt-0">User reward</legend>
                <input type="hidden" name="bet[user_reward_id]" value="" autocomplete="off">
                <%= f.input :match_id, input_html: { value: match.id} %>
                <% current_user.user_rewards.each do |user_reward| %>
                  <div class="form-check">
                    <input class="form-check-input radio_buttons optional" type="radio" value=<%= user_reward.id %> name="bet[user_reward_id]" id=<%= user_reward.id %>>
                    <label class="form-check-label collection_radio_buttons" for="bet_user_reward_id"<%= user_reward.reward.title %>></label>
                  </div>
                <% end %>
              </fieldset>
              </div>
              <%= f.button :submit, "Nul", class:"btn btn-danger" %>
            <% end %>

            <%= simple_form_for @bet do |f|%>
            <div class="d-none">
              <%= f.input :match_id, input_html: { value: match.id} %>
              <%= f.input :participation_id, input_html: { value: match.favori_participation.id} %>
                  <%#= f.association :user_reward, as: :radio_buttons %>
              <fieldset class="mb-3 radio_buttons optional bet_user_reward">
                <legend class="col-form-label pt-0">User reward</legend>
                <input type="hidden" name="bet[user_reward_id]" value="" autocomplete="off">
                <% current_user.user_rewards.each do |user_reward| %>
                  <div class="form-check">
                    <input class="form-check-input radio_buttons optional" type="radio" value="<%= user_reward.id%>" name="bet[user_reward_id]" id="bet_user_reward_id_<%= user_reward.id%>">
                    <label class="form-check-label collection_radio_buttons" for="bet_user_reward_id_<%= user_reward.id%>"><%= user_reward.reward.title%></label>
                  </div>
                <% end %>
              </fieldset>
              </div>
              <%= f.button :submit, "#{match.participations.last.team.name}",class:"btn btn-danger" %>
            <% end %>



        </div>
      </span>



      <div class="col-12 d-flex  flex-column justify-content-center mt-5 mb-3 text-center">


      <% if match.bets.present? %>
            <p class=" col-8 d-flex justify-content-center text-center" ><%= match.bets.count %>/<%= @users.count %> joueur(s) ont parié sur ce match.</p>
          <% else %>
            <p>0 joueurs ont parié sur ce match</p>
          <% end %>
      </div>
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Utiliser un bonus</button>
      </div>

    <% end %>
  </div>
</div>
</div>





<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...



        <label  for="bet_user_reward_id"><%= current_user.user_rewards.first.reward.title %></label>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
